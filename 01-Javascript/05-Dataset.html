<div class="main-wrapper">
	<h1>Les Datasets</h1>

	<div class="widget widget-objectif">
		<div class="widget-header">
			<i class="fa fa-thumbs-o-up"></i>
			<h3 class="widget-title">Objectifs</h3>
		</div>
		<div class="widget-content">
			<p class="widget-intro">Comprendre les datasets</p>
			<ul>
				<li>Définition</li>
				<li>Utilisation</li>
			</ul>
		</div>
	</div>

	<div class="widget">
		<div class="widget-header">
			<i class="fa fa-caret-right"></i>
			<h3 class="widget-title">Définition</h3>
		</div>
		<div class="widget-content">
			<p><strong>Le dataset permet d'ajouter des informations spécifiques à une balise, qui sera ensuite récupéré en javascript dans le but de savoir par exemple sur quel élément l'utilisateur à cliquer.</strong></p>
			<p>
				La propriété HTMLElement.dataset en lecture seule permet l'accès, à la fois en mode lecture et écriture, à tous les attributs de données sur mesure (data-*) définis sur l'élément. C'est un tableau associatif de DOMString (map of DOMString), une entrée pour chaque attribut de données sur mesure.
			</p>
			<p>
				Le nom d'un attribut de données sur mesure commence par data-. Il ne doit contenir que des lettres, des nombres et les caractères suivants : tiret (-), point (.), deux-points (:), tiret bas (_). De plus, il ne doit pas contenir des lettres majuscules ASCII (A à Z).
			</p>
			<p><strong>Un nom d'attribut de données sur mesure est transformé en clef pour l'entrée de la DOMStringMap avec les règles suivantes :</strong></p>
			<ul>
				<li>le préfixe data- est enlevé (y compris le tiret) ;</li>
				<li>pour tout tiret (U+002D) suivi par une  lettre minuscule ASCII a à z, le tiret est enlevé et la lettre est transformée en la majuscule correspondante ;</li>
				<li>les autres caractères (y compris les autres tirets) ne sont pas modifiés.</li>
			</ul>
			<p><strong>La transformation opposée, qui associe un nom d'attribut à une clef, utilise les règles suivantes :</strong></p>
			<ul>
				<li>Restriction : Aucun tiret ne doit être immédiatement suivi d'une lettre minuscule ASCII a à z (avant la transformation) ;</li>
				<li>un préfixe data- est ajouté ;</li>
				<li>toute lettre majuscule ASCII A à Z est transformée en un tiret suivi de la minuscule correspondante ;</li>
				<li>les autres caractères ne sont pas modifiés.</li>
			</ul>
			<p><strong>La restriction dans les règles ci-dessus garantit que les deux transformations sont bien l'inverse l'une de l'autre.</strong></p>
			<pre class="lang-javascript linenums">chaîne = element.dataset.nomEnCamelCase;
element.dataset.nomEnCamelCase = chaîne;</pre>
		</div>
	</div>

	<div class="widget">
		<div class="widget-header">
			<i class="fa fa-caret-right"></i>
			<h3 class="widget-title">Exemple</h3>
		</div>
		<div class="widget-content">
			<pre class="lang-html linenums">&lt;div id="utilisateur" data-id="1234567890" data-utilisateur="Monsieur Tartempion" data-date-de-naissance>Monsieur Tartempion&lt;/div></pre>
<pre class="lang-javascript linenums">
var el = document.querySelector('#utilisateur');
// el.id == 'utilisateur'
// el.dataset.id === '1234567890'
// el.dataset.utilisateur === 'Monsieur Tartempion'
// el.dataset.dateDeNaissance === ''
el.dataset.dateDeNaissance = '1960-10-03'; // renseigne la date de naissance.
// 'unAttributDeDonnees' in el.dataset === false
el.dataset.unAttributDeDonnees = 'mes données';
// 'unAttributDeDonnees' in el.dataset === true</pre>
		</div>
	</div>
</div>
